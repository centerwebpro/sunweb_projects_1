var e=products=[{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"},{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"},{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"},{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"},{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"},{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"},{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"},{id:1,price:1925,title:"Филадельфия люкс",description:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/card-product.svg"}],t=basket={quantity:0,summ:0,basketProducts:[],add(e){let t=this.basketProducts.find((t=>t.id==e));t?t.quantity++:this.basketProducts.push({id:e,quantity:1}),this._plusQuantity(),this._plusSum(),console.log("basketProducts",this.basketProducts)},_plusQuantity(){this.quantity=0,this.basketProducts.forEach((e=>{this.quantity+=e.quantity})),document.querySelector(".main-right__shoppingBag-amount").innerHTML=this.quantity},_plusSum(){this.summ=0,this.basketProducts.forEach((t=>{let i=e.find((e=>t.id==e.id));i&&(this.summ+=parseInt(t.quantity)*parseFloat(i.price))})),document.querySelector(".main-right__shoppingBag-price").innerHTML=this.summ},delete(e){this.basketProducts.find((t=>t.id==e))&&this.basketProducts.pop({id:e,quantity:1}),this._minusQuantity(),console.log("product delete",this.basketProducts)},_minusQuantity(){this.basketProducts.forEach((e=>{this.quantity-=e.quantity})),document.querySelector(".main-right__shoppingBag-amount").innerHTML=this.quantity},_minusSum(){this.summ=0,this.basketProducts.forEach((t=>{let i=e.find((e=>t.id==e.id));i&&(this.summ-=parseInt(t.quantity)*parseFloat(i.price))})),document.querySelector(".main-right__shoppingBag-price").innerHTML=this.summ}};fetch("https://raw.githubusercontent.com/centerwebpro/sunweb_projects_1/main/accepts/data.json").then((e=>e.json())).then((e=>{!function(e){let t=document.querySelector(".middle");t&&Object.entries(e).forEach((e=>{if(1==e[1].status){let i=`<a href="#" class="middle-item">${e[1].name}</a>`;t.innerHTML+=i}}))}(e)})),(()=>{let e=document.querySelector(".popular-items"),t=document.querySelectorAll(".popular-item"),i=0,o=!1,s=0;e.addEventListener("mousedown",(function(e){o=!0,s=e.pageX-this.offsetLeft})),document.addEventListener("mouseup",(function(t){o=!1,i=e.scrollLeft,setInterval((()=>{}),10)})),e.addEventListener("mousemove",(function(e){o&&(this.scrollLeft=i-1*(e.pageX-this.offsetLeft-s))})),t.forEach((e=>{e.addEventListener("mousedown",(function(e){e.preventDefault()}))}))})(),window.addEventListener("load",(e=>{for(var t=document.querySelectorAll(".scrollline-text"),i=0;i<t.length;i++)t[i].style.display="block"})),(()=>{let e=document.querySelector(".popup"),t=document.querySelector(".top"),i=document.querySelector(".main-left__hamburger-image"),o=document.querySelector(".main-left__hamburger-imagecross"),s=document.querySelector(".main-left__logo-hamburger"),n=document.querySelector(".main-left__logo-icon__big"),c=document.querySelector(".main-left__logo-icon__bigmenu"),r=document.querySelector(".main-left__logo-icon__mini"),l=document.querySelector(".main-left__logo-icon__minimenu"),a=document.querySelector(".main-left__locationAdd-address"),d=document.querySelector(".main-left__locationAdd-image"),u=document.querySelector(".main-left__locationAdd-imagemenu"),p=document.querySelector(".main-right__shimingi-title"),m=document.querySelector(".main-right__shimingi-image"),g=document.querySelector(".main-right__shimingi-imagemenu"),h=document.querySelectorAll(".main-right__shoppingBag-image"),_=document.querySelectorAll(".main-right__shoppingBag-imagemenu"),y=document.querySelector(".main-right__shoppingBag-text"),f=document.querySelectorAll(".main-right__shoppingBag-price"),q=document.querySelector(".main-left__phone"),b=document.querySelector(".product"),L=document.querySelector(".product-content");s.addEventListener("click",(function(){e.classList.toggle("popup_enable"),t.classList.toggle("popup-white"),i.classList.toggle("popup_disable"),o.classList.toggle("popup_enable"),n.classList.toggle("popup_disable"),c.classList.toggle("popup_enable"),r.classList.toggle("popup_disable"),l.classList.toggle("popup_enable"),a.classList.toggle("popup-lightgreen"),d.classList.toggle("popup_disable"),u.classList.toggle("popup_enable"),p.classList.toggle("popup-lightgreen"),m.classList.toggle("popup_disable"),g.classList.toggle("popup_enable"),y.classList.toggle("popup_darkgreen"),h.forEach((e=>e.classList.toggle("popup_disable"))),_.forEach((e=>e.classList.toggle("popup_enable"))),f.forEach((e=>e.classList.toggle("popup_darkgreen"))),q.classList.toggle("popup_enable"),b.classList.toggle("popup_enable"),L.classList.toggle("popup_pink")}));let S=document.querySelector(".popup-left");if(window.innerWidth<=575){S.style.width="0px";let e=document.querySelector(".popup-right"),t=document.querySelector(".popup-left__nav"),i=document.querySelector(".footer-top");S.addEventListener("click",(function(){S.style.width="80%",e.style.width="20%",e.style.cursor="pointer",S.style.cursor="default",t.style.display="flex",i.style.minWidth="300px"})),e.addEventListener("click",(function(){e.style.width="100%",S.style.width="0px",t.style.display="none",S.style.cursor="pointer",e.style.cursor="default",i.style.minWidth="none"})),window.addEventListener("resize",(function(){console.log("123",window.innerWidth),window.innerWidth>575&&(S.style.width="272px",e.style.width="100%")}))}})(),(()=>{let e=document.querySelector(".js-bottom");document.querySelectorAll(".js-middle").forEach((t=>{t.addEventListener("mouseover",(function(){e.classList.toggle("bottom_enable")}))}))})(),document.querySelectorAll(".card-content").forEach((e=>{products.forEach((t=>{e.innerHTML+=`\n                <div class="card-item">\n                    <div class="card-pictures">\n                        <div class="card-icons">\n                            <button class="card-icons__spicy" href="#"></button>\n                            <button class="card-icons__hot" href="#"></button>\n                            <button class="card-icons__vegan" href="#"></button>\n                        </div>\n                        <div class="card-image">\n                            <img src="${t.img}" alt="roll" />\n                        </div>\n                    </div>\n                    <div class="card-description">\n                        <div class="card-description__left">\n                            <span class="card-name">${t.title}</span>\n                            <span class="card-amount">${t.description}</span>\n                        </div>\n                        <div class="card-description__right">\n                            <span class="card-oldprice">${t.oldPrice}</span>\n                            <button class="card-newprice" product_id="${t.id}">${t.price}</button>\n                        </div>\n                    </div>\n                    <hr class="card-line">\n                </div>\n            `}))})),document.querySelectorAll(".card-newprice").forEach((e=>{e.addEventListener("click",(function(e){t.add(e.target.getAttribute("product_id"))}))})),document.querySelectorAll(".card-oldprice").forEach((e=>{e.addEventListener("click",(function(e){t.delete(e.target.parentElement.querySelector(".card-newprice").getAttribute("product_id"))}))}));
